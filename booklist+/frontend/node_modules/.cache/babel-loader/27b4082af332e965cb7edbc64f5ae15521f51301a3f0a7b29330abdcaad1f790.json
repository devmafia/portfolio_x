{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector}from'react-redux';import BookList from'../components/BookList';import AddBookForm from'../components/AddBookForm';import{useAppDispatch}from'../redux/store';import{fetchBooks,addBook,deleteBook,editBook}from'../redux/bookSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const dispatch=useAppDispatch();const{books,loading,error}=useSelector(state=>state.books);useEffect(()=>{dispatch(fetchBooks());},[dispatch]);const handleAddBook=newBook=>{dispatch(addBook(newBook));};const handleDeleteBook=id=>{dispatch(deleteBook(id));};const handleEditBook=id=>{const editedBook=books.find(book=>book.id===id);if(editedBook){dispatch(editBook(editedBook));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Book List\"}),/*#__PURE__*/_jsx(AddBookForm,{onAdd:handleAddBook}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading books...\"}),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),!loading&&!error&&/*#__PURE__*/_jsx(BookList,{books:books,onDelete:handleDeleteBook,onEdit:handleEditBook})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useSelector","BookList","AddBookForm","useAppDispatch","fetchBooks","addBook","deleteBook","editBook","jsx","_jsx","jsxs","_jsxs","Home","dispatch","books","loading","error","state","handleAddBook","newBook","handleDeleteBook","id","handleEditBook","editedBook","find","book","className","children","onAdd","onDelete","onEdit"],"sources":["C:/Users/User/lenovo/htdocs/Flask/booklist/frontend/src/pages/Home.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport BookList from '../components/BookList';\r\nimport AddBookForm from '../components/AddBookForm';\r\nimport { RootState, useAppDispatch } from '../redux/store';\r\nimport { fetchBooks, addBook, deleteBook, editBook } from '../redux/bookSlice';\r\n\r\nconst Home: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { books, loading, error } = useSelector((state: RootState) => state.books);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchBooks());\r\n  }, [dispatch]);\r\n\r\n  const handleAddBook = (newBook: { title: string; author: string; genre: string; rating: number; progress: number }) => {\r\n    dispatch(addBook(newBook));\r\n  };\r\n\r\n  const handleDeleteBook = (id: number) => {\r\n    dispatch(deleteBook(id));\r\n  };\r\n\r\n  const handleEditBook = (id: number) => {\r\n    const editedBook = books.find(book => book.id === id);\r\n    if (editedBook) {\r\n      dispatch(editBook(editedBook));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>My Book List</h1>\r\n      <AddBookForm onAdd={handleAddBook} />\r\n      {loading && <p>Loading books...</p>}\r\n      {error && <p>{error}</p>}\r\n      {!loading && !error && <BookList books={books} onDelete={handleDeleteBook} onEdit={handleEditBook} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAAoBC,cAAc,KAAQ,gBAAgB,CAC1D,OAASC,UAAU,CAAEC,OAAO,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/E,KAAM,CAAAC,IAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,QAAQ,CAAGV,cAAc,CAAC,CAAC,CACjC,KAAM,CAAEW,KAAK,CAAEC,OAAO,CAAEC,KAAM,CAAC,CAAGhB,WAAW,CAAEiB,KAAgB,EAAKA,KAAK,CAACH,KAAK,CAAC,CAEhFf,SAAS,CAAC,IAAM,CACdc,QAAQ,CAACT,UAAU,CAAC,CAAC,CAAC,CACxB,CAAC,CAAE,CAACS,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAK,aAAa,CAAIC,OAA2F,EAAK,CACrHN,QAAQ,CAACR,OAAO,CAACc,OAAO,CAAC,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,EAAU,EAAK,CACvCR,QAAQ,CAACP,UAAU,CAACe,EAAE,CAAC,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAC,cAAc,CAAID,EAAU,EAAK,CACrC,KAAM,CAAAE,UAAU,CAAGT,KAAK,CAACU,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACJ,EAAE,GAAKA,EAAE,CAAC,CACrD,GAAIE,UAAU,CAAE,CACdV,QAAQ,CAACN,QAAQ,CAACgB,UAAU,CAAC,CAAC,CAChC,CACF,CAAC,CAED,mBACEZ,KAAA,QAAKe,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlB,IAAA,OAAAkB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBlB,IAAA,CAACP,WAAW,EAAC0B,KAAK,CAAEV,aAAc,CAAE,CAAC,CACpCH,OAAO,eAAIN,IAAA,MAAAkB,QAAA,CAAG,kBAAgB,CAAG,CAAC,CAClCX,KAAK,eAAIP,IAAA,MAAAkB,QAAA,CAAIX,KAAK,CAAI,CAAC,CACvB,CAACD,OAAO,EAAI,CAACC,KAAK,eAAIP,IAAA,CAACR,QAAQ,EAACa,KAAK,CAAEA,KAAM,CAACe,QAAQ,CAAET,gBAAiB,CAACU,MAAM,CAAER,cAAe,CAAE,CAAC,EAClG,CAAC,CAEV,CAAC,CAED,cAAe,CAAAV,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}